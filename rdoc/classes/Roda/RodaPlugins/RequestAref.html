<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>Roda::RodaPlugins::RequestAref</title>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='class' id='wrapper'>
<div class='header'>
<h1 class='name'><span class='type'>module</span>
Roda::RodaPlugins::RequestAref
</h1>
<ol class='paths'>
<li>
<a href="../../../files/lib/roda/plugins/request_aref_rb.html">lib/roda/plugins/request_aref.rb</a>
</li>
</ol>
</div>
<div id='content'>
<div id='text'>
<div id='description'>
<p>The request_aref plugin allows for custom handling of the r[] and r[]= methods (where r is the Request instance).  In the current version of rack, these methods are deprecated, but the deprecation message is only printed in verbose mode.  This plugin can allow for handling calls to these methods in one of three ways:</p>
<table class="rdoc-list note-list"><tbody><tr><td class='label'>:allow </td><td>
<p>Allow the method calls without a deprecation, which is the historical behavior</p>
</td></tr><tr><td class='label'>:warn </td><td>
<p>Always issue a deprecation message by calling <code>warn</code>, not just in verbose mode.</p>
</td></tr><tr><td class='label'>:raise </td><td>
<p>Raise an error if either method is called</p>
</td></tr></tbody></table>
</div>
<div id='method-list'>
<h2>Methods</h2>
<h3>Public Class</h3>
<ol>
<li><a href="#method-c-configure">configure</a></li>
</ol>
</div>
<div id='context'>
</div>
<div id='class-list'>
<h2>Classes and Modules</h2>
<ol>
<li><a href="RequestAref/RequestMethods.html">Roda::RodaPlugins::RequestAref::RequestMethods</a></li>
<li><a href="RequestAref/Error.html">Roda::RodaPlugins::RequestAref::Error</a></li>
</ol>
</div>
<div id='section'>
<div id='methods'>
<h2>Public Class methods</h2>
<div class='method public-class' id='method-method-c-configure'>
<a name='method-c-configure'></a>
<div class='synopsis'>
<span class='name'>configure</span><span class='arguments'>(app, setting)</span>

</div>
<div class='description'>

<p>Make [] and []= methods work as configured by aliasing the appropriate request_a(ref|set)_* methods to them.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-c-configure-source&#39;); return false'>
[show source]
</a>
<pre id='method-c-configure-source'>   <span class="ruby-comment"># File lib/roda/plugins/request_aref.rb</span>&#x000A;<span class="line-num">20</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">configure</span>(<span class="ruby-identifier">app</span>, <span class="ruby-identifier">setting</span>)&#x000A;<span class="line-num">21</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">setting</span>&#x000A;<span class="line-num">22</span>   <span class="ruby-keyword">when</span> <span class="ruby-value">:allow</span>, <span class="ruby-value">:raise</span>, <span class="ruby-value">:warn</span>&#x000A;<span class="line-num">23</span>     <span class="ruby-identifier">app</span><span class="ruby-operator">::</span><span class="ruby-constant">RodaRequest</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-keyword">do</span>&#x000A;<span class="line-num">24</span>       <span class="ruby-identifier">alias_method</span>(<span class="ruby-value">:[]</span>,  <span class="ruby-value">:&quot;request_aref_#{setting}&quot;</span>)&#x000A;<span class="line-num">25</span>       <span class="ruby-identifier">alias_method</span>(<span class="ruby-value">:[]=</span>, <span class="ruby-value">:&quot;request_aset_#{setting}&quot;</span>)&#x000A;<span class="line-num">26</span>       <span class="ruby-identifier">public</span> <span class="ruby-value">:[]</span>, <span class="ruby-value">:[]=</span>&#x000A;<span class="line-num">27</span>     <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">28</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">29</span>     <span class="ruby-identifier">raise</span> <span class="ruby-constant">RodaError</span>, <span class="ruby-node">&quot;Unsupport request_aref plugin setting: #{setting.inspect}&quot;</span>&#x000A;<span class="line-num">30</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">31</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
</div>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/rdoc/hanna-nouveau"><strong>Hanna Nouveau</strong> RDoc template</a>
</div>
</body>
</html>
