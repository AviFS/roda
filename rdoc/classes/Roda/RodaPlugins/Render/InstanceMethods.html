<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>Roda::RodaPlugins::Render::InstanceMethods</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='class' id='wrapper'>
<div class='header'>
<h1 class='name'><span class='type'>module</span>
Roda::RodaPlugins::Render::InstanceMethods
</h1>
<ol class='paths'>
<li>
<a href="../../../../files/lib/roda/plugins/render_rb.html">lib/roda/plugins/render.rb</a>
</li>
</ol>
</div>
<div id='content'>
<div id='text'>
<div id='description'></div>
<div id='method-list'>
<h2>Methods</h2>
<h3>Public Instance</h3>
<ol>
<li><a href="#method-i-render">render</a></li>
<li><a href="#method-i-render_opts">render_opts</a></li>
<li><a href="#method-i-view">view</a></li>
</ol>
</div>
<div id='context'>
</div>
<div id='section'>
<div id='methods'>
<h2>Public Instance methods</h2>
<div class='method public-instance' id='method-method-i-render'>
<a name='method-i-render'></a>
<div class='synopsis'>
<span class='name'>render</span><span class='arguments'>(template, opts = (no_opts = true; optimized_template = _cached_template_method(template); OPTS), &block)</span>

</div>
<div class='description'>

<p><a href="../Render.html"><code>Render</code></a> the given template. See <a href="../Render.html"><code>Render</code></a> for details.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-render-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-render-source'>    <span class="ruby-comment"># File lib/roda/plugins/render.rb</span>
<span class="line-num">608</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">render</span>(<span class="ruby-identifier">template</span>, <span class="ruby-identifier">opts</span> = (<span class="ruby-identifier">no_opts</span> = <span class="ruby-keyword">true</span>; <span class="ruby-identifier">optimized_template</span> = <span class="ruby-identifier">_cached_template_method</span>(<span class="ruby-identifier">template</span>); <span class="ruby-constant">OPTS</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="line-num">609</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">optimized_template</span>
<span class="line-num">610</span>     <span class="ruby-identifier">_call_optimized_template_method</span>(<span class="ruby-identifier">optimized_template</span>, <span class="ruby-constant">OPTS</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="line-num">611</span>   <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">no_opts</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">locals</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:locals</span>]) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">optimized_template</span> = <span class="ruby-identifier">_optimized_render_method_for_locals</span>(<span class="ruby-identifier">template</span>, <span class="ruby-identifier">locals</span>))
<span class="line-num">612</span>     <span class="ruby-identifier">_call_optimized_template_method</span>(<span class="ruby-identifier">optimized_template</span>, <span class="ruby-identifier">locals</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="line-num">613</span>   <span class="ruby-keyword">else</span>
<span class="line-num">614</span>     <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">render_template_opts</span>(<span class="ruby-identifier">template</span>, <span class="ruby-identifier">opts</span>)
<span class="line-num">615</span>     <span class="ruby-identifier">retrieve_template</span>(<span class="ruby-identifier">opts</span>).<span class="ruby-identifier">render</span>((<span class="ruby-identifier">opts</span>[<span class="ruby-value">:scope</span>]<span class="ruby-operator">||</span><span class="ruby-keyword">self</span>), (<span class="ruby-identifier">opts</span>[<span class="ruby-value">:locals</span>]<span class="ruby-operator">||</span><span class="ruby-constant">OPTS</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="line-num">616</span>   <span class="ruby-keyword">end</span>
<span class="line-num">617</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-render_opts'>
<a name='method-i-render_opts'></a>
<div class='synopsis'>
<span class='name'>render_opts</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>Return the render options for the instanceâ€™s class.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-render_opts-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-render_opts-source'>    <span class="ruby-comment"># File lib/roda/plugins/render.rb</span>
<span class="line-num">620</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">render_opts</span>
<span class="line-num">621</span>   <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">render_opts</span>
<span class="line-num">622</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-view'>
<a name='method-i-view'></a>
<div class='synopsis'>
<span class='name'>view</span><span class='arguments'>(template, opts = (content = _optimized_view_content(template) unless defined?(yield); OPTS), &block)</span>

</div>
<div class='description'>

<p><a href="../Render.html"><code>Render</code></a> the given template.  If there is a default layout for the class, take the result of the template rendering and render it inside the layout.  Blocks passed to view are passed to render when rendering the template. See <a href="../Render.html"><code>Render</code></a> for details.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-view-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-view-source'>    <span class="ruby-comment"># File lib/roda/plugins/render.rb</span>
<span class="line-num">629</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">view</span>(<span class="ruby-identifier">template</span>, <span class="ruby-identifier">opts</span> = (<span class="ruby-identifier">content</span> = <span class="ruby-identifier">_optimized_view_content</span>(<span class="ruby-identifier">template</span>) <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-keyword">yield</span>); <span class="ruby-constant">OPTS</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="line-num">630</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">content</span>
<span class="line-num">631</span>     <span class="ruby-comment"># First, check if the optimized layout method has already been created,</span>
<span class="line-num">632</span>     <span class="ruby-comment"># and use it if so.  This way avoids the extra conditional and local variable</span>
<span class="line-num">633</span>     <span class="ruby-comment"># assignments in the next section.</span>
<span class="line-num">634</span>     <span class="ruby-keyword">if</span> <span class="ruby-identifier">layout_method</span> = <span class="ruby-identifier">_layout_method</span>
<span class="line-num">635</span>       <span class="ruby-keyword">return</span> <span class="ruby-identifier">_call_optimized_template_method</span>(<span class="ruby-identifier">layout_method</span>, <span class="ruby-constant">OPTS</span>){<span class="ruby-identifier">content</span>}
<span class="line-num">636</span>     <span class="ruby-keyword">end</span>
<span class="line-num">637</span> 
<span class="line-num">638</span>     <span class="ruby-comment"># If we have an optimized template method but no optimized layout method, create the</span>
<span class="line-num">639</span>     <span class="ruby-comment"># optimized layout method if possible and use it.  If you can&#39;t create the optimized</span>
<span class="line-num">640</span>     <span class="ruby-comment"># layout method, fall through to the slower approach.</span>
<span class="line-num">641</span>     <span class="ruby-keyword">if</span> <span class="ruby-identifier">layout_template</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">opts</span>[<span class="ruby-value">:render</span>][<span class="ruby-value">:optimize_layout</span>]
<span class="line-num">642</span>       <span class="ruby-identifier">retrieve_template</span>(<span class="ruby-value">:template</span><span class="ruby-operator">=&gt;</span><span class="ruby-identifier">layout_template</span>, <span class="ruby-value">:cache_key</span><span class="ruby-operator">=&gt;</span><span class="ruby-keyword">nil</span>, <span class="ruby-value">:template_method_cache_key</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-value">:_roda_layout</span>)
<span class="line-num">643</span>       <span class="ruby-keyword">if</span> <span class="ruby-identifier">layout_method</span> = <span class="ruby-identifier">_layout_method</span>
<span class="line-num">644</span>         <span class="ruby-keyword">return</span> <span class="ruby-identifier">_call_optimized_template_method</span>(<span class="ruby-identifier">layout_method</span>, <span class="ruby-constant">OPTS</span>){<span class="ruby-identifier">content</span>}
<span class="line-num">645</span>       <span class="ruby-keyword">end</span>
<span class="line-num">646</span>     <span class="ruby-keyword">end</span>
<span class="line-num">647</span>   <span class="ruby-keyword">else</span>
<span class="line-num">648</span>     <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">parse_template_opts</span>(<span class="ruby-identifier">template</span>, <span class="ruby-identifier">opts</span>)
<span class="line-num">649</span>     <span class="ruby-identifier">content</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:content</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">render_template</span>(<span class="ruby-identifier">opts</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="line-num">650</span>   <span class="ruby-keyword">end</span>
<span class="line-num">651</span> 
<span class="line-num">652</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">layout_opts</span>  = <span class="ruby-identifier">view_layout_opts</span>(<span class="ruby-identifier">opts</span>)
<span class="line-num">653</span>     <span class="ruby-identifier">content</span> = <span class="ruby-identifier">render_template</span>(<span class="ruby-identifier">layout_opts</span>){<span class="ruby-identifier">content</span>}
<span class="line-num">654</span>   <span class="ruby-keyword">end</span>
<span class="line-num">655</span> 
<span class="line-num">656</span>   <span class="ruby-identifier">content</span>
<span class="line-num">657</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
</div>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/jeremyevans/hanna"><strong>Hanna</strong> RDoc template</a>
</div>
</body>
</html>
