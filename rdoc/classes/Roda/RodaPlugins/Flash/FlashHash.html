<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>Roda::RodaPlugins::Flash::FlashHash</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>class</span>
          Roda::RodaPlugins::Flash::FlashHash
        </h1>
        <ol class='paths'>
          <li>
            <a target="docwin" href="../../../../files/lib/roda/plugins/flash_rb.html">lib/roda/plugins/flash.rb</a>
          </li>
        </ol>
        <div class='parent'>
          Superclass:
          <strong>DelegateClass(Hash)</strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <p>Simple flash hash, where assiging to the hash updates the flash used in the
            following request.</p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>Public Class</h3>
            <ol>
              <li><a target="docwin" href="#method-c-new">new</a></li>
            </ol>
            <h3>Public Instance</h3>
            <ol>
              <li><a target="docwin" href="#method-i-5B-5D-3D">[]=</a></li>
              <li><a target="docwin" href="#method-i-discard">discard</a></li>
              <li><a target="docwin" href="#method-i-keep">keep</a></li>
              <li><a target="docwin" href="#attribute-i-next">next</a></li>
              <li><a target="docwin" href="#method-i-sweep">sweep</a></li>
            </ol>
          </div>
          <div id='context'>
          </div>
          <div id='section'>
            <div id='attribute-list'>
              <h2 class='section-bar'>Attributes</h2>
              <div class='name-list'>
                <table>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-i-next'>next</a>
                    </td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'>
                      
                      <p>The flash hash for the next request.  This is what gets written to by <a
                      href="FlashHash.html#method-i-5B-5D-3D">[]=</a>.</p>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public Class methods</h2>
              <div class='method public-class' id='method-method-c-new'>
                <a name='method-c-new'></a>
                <div class='synopsis'>
                  <span class='name'>new</span>
                  <span class='arguments'>(hash={})</span>
                </div>
                <div class='description'>
                  
                  <p>Setup the next hash when initializing, and handle treat nil as a new empty
                  hash.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-c-new-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-c-new-source'><span class="ruby-comment"># File lib/roda/plugins/flash.rb, line 46</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">hash</span>={})&#x000A;  <span class="ruby-keyword">super</span>(<span class="ruby-identifier">hash</span><span class="ruby-operator">||</span>{})&#x000A;  <span class="ruby-ivar">@next</span> = {}&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <h2>Public Instance methods</h2>
              <div class='method public-instance' id='method-method-i-5B-5D-3D'>
                <a name='method-i-5B-5D-3D'></a>
                <div class='synopsis'>
                  <span class='name'>[]=</span>
                  <span class='arguments'>(k, v)</span>
                </div>
                <div class='description'>
                  
                  <p>Update the next hash with the given key and value.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-5B-5D-3D-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-5B-5D-3D-source'><span class="ruby-comment"># File lib/roda/plugins/flash.rb, line 52</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span>)&#x000A;  <span class="ruby-ivar">@next</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-discard'>
                <a name='method-i-discard'></a>
                <div class='synopsis'>
                  <span class='name'>discard</span>
                  <span class='arguments'>(key=(no_arg=true))</span>
                </div>
                <div class='description'>
                  
                  <p>Remove given key from the next hash, or clear the next hash if no argument
                  is given.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-discard-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-discard-source'><span class="ruby-comment"># File lib/roda/plugins/flash.rb, line 58</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">discard</span>(<span class="ruby-identifier">key</span>=(<span class="ruby-identifier">no_arg</span>=<span class="ruby-keyword">true</span>))&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">no_arg</span>&#x000A;    <span class="ruby-ivar">@next</span>.<span class="ruby-identifier">clear</span>&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-ivar">@next</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">key</span>)&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-keep'>
                <a name='method-i-keep'></a>
                <div class='synopsis'>
                  <span class='name'>keep</span>
                  <span class='arguments'>(key=(no_arg=true))</span>
                </div>
                <div class='description'>
                  
                  <p>Copy the entry with the given key from the current hash to the next hash,
                  or copy all entries from the current hash to the next hash if no argument
                  is given.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-keep-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-keep-source'><span class="ruby-comment"># File lib/roda/plugins/flash.rb, line 69</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">keep</span>(<span class="ruby-identifier">key</span>=(<span class="ruby-identifier">no_arg</span>=<span class="ruby-keyword">true</span>))&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">no_arg</span>&#x000A;    <span class="ruby-ivar">@next</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-keyword">self</span>)&#x000A;  <span class="ruby-keyword">else</span>&#x000A;    <span class="ruby-keyword">self</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-keyword">self</span>[<span class="ruby-identifier">key</span>]&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-sweep'>
                <a name='method-i-sweep'></a>
                <div class='synopsis'>
                  <span class='name'>sweep</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  
                  <p>Replace the current hash with the next hash and clear the next hash.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-sweep-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-sweep-source'><span class="ruby-comment"># File lib/roda/plugins/flash.rb, line 78</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">sweep</span>&#x000A;  <span class="ruby-identifier">replace</span>(<span class="ruby-ivar">@next</span>)&#x000A;  <span class="ruby-ivar">@next</span>.<span class="ruby-identifier">clear</span>&#x000A;  <span class="ruby-keyword">self</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
